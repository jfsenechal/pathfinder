{% extends '@AfmLibrePathfinder/base.html.twig' %}

{% block title %}Pathfinder{% endblock %}

{% block body %}

    <div class="card">
        <div class="card-header">
            <h3>Sélection des sorts de <a
                        href="{{ path('pathfinder_character_show', {'id': character.id}) }}">{{ character }}</a></h3>
        </div>
        <div class="card-body">
            {% include '@AfmLibrePathfinder/spell/_form_search.html.twig' with {'form': formSearch} %}

            {% if spells | length > 0 %}
                {{ form_start(formSelection, { 'attr': {'class': 'form-inline'}}) }}
                {{ form_errors(formSelection) }}

                <button class="btn btn-secondary mr-1 mt-3 mb-3" type="submit"><i class="fas fa-check"></i>
                    Valider ma sélection
                </button>

                <table class="table table-bordered table-striped mt-3">
                    <tr>
                        <th>Nom</th>
                    </tr>
                    {% for spellRow in formSelection.spells %}
                        <tr>
                            <td>
                                {{ form_label(spellRow) }}
                                {{ form_errors(spellRow) }}
                                {{ form_widget(spellRow) }}
                            </td>
                        </tr>
                    {% endfor %}
                </table>

                <button class="btn btn-secondary mr-1" type="submit"><i class="fas fa-check"></i>
                    Valider ma sélection
                </button>
                {{ form_end(formSelection) }}
            {% endif %}
        </div>
    </div>

{% endblock %}
