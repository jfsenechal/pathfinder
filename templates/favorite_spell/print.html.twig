{% extends '@AfmLibrePathfinder/base.html.twig' %}

{% block title %}Pathfinder{% endblock %}
{% block stylesheets %}
    <style>
        .saut_page {
            page-break-before: always;
        }

        /*Empeche l'impiression des liens */
        a[href]:after {
            content: none;
        }

        .page-breaker {
            display: block;
            page-break-after: always;
        }
    </style>
{% endblock %}
{% block body %}

    {% for level,groupedSpell in groupedSpells %}
        <h5 class="text-success text-uppercase ">
            Niveau {{ level }}
        </h5>
        <hr>
        <table class="table table-bordered">
            {% for spell in groupedSpell %}
                <tr class="d-none d-print-none">
                    <td colspan="5">
                        <a href="{{ path('pathfinder_spell_edit', {'id': spell.id}) }}">Edit</a>
                    </td>
                </tr>
                <tr class="table-primary">
                    <td colspan="5"><h5>{{ spell.name }}</h5></td>
                </tr>
                <tr>
                    <td class="text-muted" colspan="5">
                        {% if spell.summary %}
                            {{ spell.summary }}
                        {% else %}
                            {{ spell.description|nl2br }}
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>Durée:</th>
                    <td>{{ spell.duration }}</td>
                    <th>Cible:</th>
                    <td>{{ spell.target }}</td>
                </tr>
                <tr>
                    <th>Portée</th>
                    <td>{{ spell.ranged }}</td>
                    <th>JS</th>
                    <td>{{ spell.savingThrow|string_clean }}</td>
                </tr>
            {% endfor %}
        </table>
        <div class="{% if loop.index == 1 %}page-breaker{% endif %}"></div>
    {% endfor %}

{% endblock %}
